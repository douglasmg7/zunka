doctype html
html(lang="en")
  head
    meta(charset='utf-8')
    meta(name="viewport" content="width=device-width, initial-scale=1")
    title Endereços
    link(rel="stylesheet" href="/css/user/address.css" charset="utf-8")
  body
    header
      nav
        include ../main-nav.pug
    main#app(v-cloak)
      .breadlink
        a(href='/user/account') Sua conta
        a &nbsp> Seus Endereços
      .title
        h2 Seus endereços
      .addresses
        .address-panel.add
          a(href='address/add') 
            h3 Adicionar endereço
        //- Addresses list.
        .address-panel(v-for='address in addresses' data-address-id='address._id')
          .address-header(v-if='address.defaut')
            p Padrão
          .address-body             
            p.name {{address.name}}                                                                                                
            p {{address.phone}}                                                                                                
            p {{address.cep}}                                                                                                
            p {{address.address}}                                                                                                
            p {{address.addressNumber}}                                                                                                
            p {{address.addressComplement}}                                                                                                
            p {{address.district}}                                                                                                
            p {{address.city}}                                                                                                
            p {{address.state}}
          .address-footer                                                                          
            span
              a.edit-address(@click='editAddress(address._id)') Editar 
              strong &nbsp | &nbsp                                                                                       
              a.remove-address Apagar
              strong &nbsp | &nbsp
              a.set-default-address Marcar como padrão                   
  script.
    // Make available for vue.
    let csrfToken = !{JSON.stringify(csrfToken)};
    let addresses = !{JSON.stringify(addresses)};
  include ../components/axios.js.pug
  include ../components/vue.js.pug
  script(src='/js/user/address.js')  
